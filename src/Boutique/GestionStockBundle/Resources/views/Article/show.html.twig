{% extends "BoutiqueGestionStockBundle::layout.html.twig" %}

{% block content %}

    <h3>Article</h3>

    <table class="table table-bordered">
        <tbody>
            <tr>
                <th class="width40">Code article</th>
                <td class="">{{ article.code }}</td>
            </tr>
            <tr>
                <th class="width40">Code fournisseur</th>
                <td class="">{{ article.codeFournisseur }}</td>
            </tr>
            <tr>
                <th class="width40">Nom de l'article</th>
                <td class="">{{ article.libelle }}</td>
            </tr>
            <tr>
                <th class="width40">Type de vente</th>
                <td class="">{{ article.typeVente.libelle }}</td>
            </tr>
            <tr>
                <th class="width40">Fournisseur</th>
                <td class=""><a href="{{ path('fournisseur_show', {'id' : article.fournisseur.id}) }}">{{ article.fournisseur }}</a></td>
            </tr>
            <tr>
                <th class="width40">Description</th>
                <td class="">{{ article.description }}</td>
            </tr>
            <tr>
                <th class="width40">Prix TTC</th>
                <td class="">{{ article.prixVente }} €</td>
            </tr>
            <tr>
                <th class="width40">Quantité restante</th>
                <td class="">{{ article.articleStock.quantite }} {{article.typeVente.unite}}(s)</td>
            </tr>
        </tbody>
    </table>

    <div class="right">
        <a class="btn btn-danger" href="{{ path('article') }}">Annuler</a>
        <a class="btn btn-warning" href="{{ path('article_edit', { 'id': article.id }) }}">Modifier article</a>
        <a class="btn btn-success" href="{{ path('stock_add', { 'id_article': article.id }) }}">Ajouter du stock</a>
    </div>
    
    <br />
    
    <table class="table table-bordered">
        {% for stock in article.stocks %}
            <tr>
                <th class="center" colspan=2>Entrées de stock</th>
            </tr>
            <tr>
                <td>{{ stock.dateEntree|date("d/m/Y") }} : {% if stock.quantite > 0 %}Ajout de {{ stock.quantite }} articles ({{ stock.prixAchat }} €/unité) {% else %}Suppression de {{ stock.quantite }} articles{% endif %}</td>
                <td class="action_menu right">
                    <div class="ui-menu-icon icon_16 icon_16_notepad_edit" title="Cette fonctionnalité  n'est pas encore disponible !!!!"></div>
                </td>
            </tr>    
        {% endfor %}
    </table>
    
    <!--<a href="{{ path('article_delete', { 'id': article.id }) }}">Supprimer</a>-->

{% endblock %}